"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[945],{5565:function(e,n,t){t.d(n,{F:function(){return f},Y:function(){return d}});var r,a=t(885),o=t(2791),i=t(24),s=t(2080),u=t(5984),c=t(3979),l=t(168),d=t(3081).Z.form(r||(r=(0,l.Z)(["\n  display: block;\n  margin: 0 auto;\n  width: fit-content;\n"]))),h=t(9584),p=t(4717),m=t(3329),f=function(){var e=(0,o.useState)(""),n=(0,a.Z)(e,2),t=n[0],r=n[1],l=(0,o.useState)(""),f=(0,a.Z)(l,2),g=f[0],x=f[1],b=(0,i.Lr)(),v=(0,a.Z)(b,2),w=v[0],y=v[1].isLoading,Z=(0,p.g)(),j=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":r(a);break;case"number":x(a);break;default:console.log("No such a field")}},C=function(e){return!Z.find((function(n){return n.name.toLowerCase()===e.toLowerCase()}))||(alert("".concat(e," is already in contacts")),!1)};return(0,m.jsxs)(d,{autoComplete:"off",onSubmit:function(e){e.preventDefault(),C(t)&&(w({name:t,number:g}),r(""),x(""))},children:[(0,m.jsx)(c.I,{name:"name",type:"text",id:(0,u.x0)(),pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:t,required:!0,placeholder:"Name Surname",onChange:j}),(0,m.jsx)(c.I,{type:"tel",name:"number",id:(0,u.x0)(),pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:g,required:!0,placeholder:"+380 (111) 11 11 11",onChange:j}),(0,m.jsx)(h.Button,{type:"submit",children:y?(0,m.jsx)(s.p2,{color:"#8d8d8d",width:"16",height:"16"}):"Add contact"})]})}},5598:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(885),a=t(5984),o=t(7934),i=t(2080),s=t(9584),u=t(2791),c=t(3979),l=t(5565),d=t(3329),h=function(e){var n=e.action,t=(0,u.useState)(""),h=(0,r.Z)(t,2),p=h[0],m=h[1],f=(0,u.useState)(""),g=(0,r.Z)(f,2),x=g[0],b=g[1],v=(0,u.useState)(""),w=(0,r.Z)(v,2),y=w[0],Z=w[1],j=(0,o.d$)(),C=(0,r.Z)(j,2),k=C[0],S=C[1],z=S.isLoading,N=S.isError,A=S.isSuccess,_=S.data,L=(0,o.lE)(),I=(0,r.Z)(L,2),U=I[0],q=I[1],B=q.isLoading,E=q.isError,M=q.isSuccess,Y=q.data,F=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"userName":m(r);break;case"email":b(r);break;case"password":Z(r);break;default:console.log("No such a field")}};return(0,d.jsxs)(s.Main,{children:[(0,d.jsxs)(l.Y,{autoComplete:"on",onSubmit:function(e){switch(e.preventDefault(),n){case"signIn":k({email:x,password:y});break;case"signUp":U({name:p,email:x,password:y});break;default:console.log("No such an action")}m(""),b(""),Z("")},children:["signUp"===n&&(0,d.jsx)(c.I,{name:"userName",type:"text",id:(0,a.x0)(),pattern:"^[a-zA-Z0-9]+(([-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, numbers and dash.",value:p,required:!0,placeholder:"Enter UserName",onChange:F}),(0,d.jsx)(c.I,{type:"email",name:"email",id:(0,a.x0)(),pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",title:"Please, enter your email",value:x,required:!0,placeholder:"Enter email",onChange:F}),(0,d.jsx)(c.I,{type:"password",name:"password",id:(0,a.x0)(),pattern:"[a-z0-9._%+-]{7,12}",title:"Password may contain letters in lowercase, numbers and it's lenghth should be from 7 to 12 symbols",value:y,required:!0,placeholder:"Enter password",onChange:F}),(0,d.jsx)(s.Button,{type:"submit",children:z||B?(0,d.jsx)(i.p2,{color:"blue",width:"16",height:"16"}):"signUp"===n?"Sign Up":"Sign In"})]}),N&&(0,d.jsx)("p",{children:"Sorry, no such a user found."}),E&&(0,d.jsx)("p",{children:"Sorry, user registration error."}),A&&(0,d.jsxs)("p",{children:["Welcome, ",_.user.name,"."]}),M&&(0,d.jsxs)("p",{children:["Welcome, ",Y.user.name,"."]})]})}},3979:function(e,n,t){t.d(n,{I:function(){return d}});var r,a,o=t(5984),i=t(168),s=t(3081),u=s.Z.label(r||(r=(0,i.Z)(["\n  display: block;\n  margin-bottom: 5px;\n  font-size: 20px;\n  font-weight: 500;\n  text-transform: capitalize;\n"]))),c=s.Z.input(a||(a=(0,i.Z)(["\n  display: block;\n  margin-bottom: 20px;\n\n  border-radius: ",";\n  border: 1px solid ",";\n  transition: box-shadow 250ms ease-out;\n\n  &:focus-within {\n    outline: none;\n    box-shadow: 0 0 7px ",";\n  }\n"])),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.colors.borderMiddleColor}),(function(e){return e.theme.colors.accentColor})),l=t(3329);function d(e){var n=e.name,t=e.type,r=e.value,a=e.pattern,i=e.title,s=e.required,d=e.placeholder,h=e.onChange,p=(0,o.x0)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u,{htmlFor:p,children:n}),(0,l.jsx)(c,{type:t,name:n,id:p,value:r,pattern:a,title:i,required:s,placeholder:d,onChange:h})]})}},4717:function(e,n,t){t.d(n,{g:function(){return r.g}});t(5861);var r=t(3193)},3193:function(e,n,t){t.d(n,{g:function(){return i}});var r=t(24),a=t(5048),o=t(2824),i=function(){var e=(0,a.v9)(o.Nh),n=(0,r.wY)(void 0,{skip:!e,refetchOnMountOrArgChange:!0}).data;return void 0===n?[]:n}},5861:function(e,n,t){var r=t(24),a=t(3193),o=t(5048);n.Z=function(){var e=(0,a.g)(),n=(0,o.v9)(r.B8).toLowerCase();return n?e.filter((function(e){return e.name.toLowerCase().split(" ").some((function(e){return e.includes(n)}))})):e}},24:function(e,n,t){t.d(n,{B8:function(){return a.B8},Lr:function(){return r.Lr},Nt:function(){return r.Nt},Tv:function(){return a.Tv},wY:function(){return r.wY}});var r=t(9676),a=t(4808)},8945:function(e,n,t){t.r(n),t.d(n,{default:function(){return i}});var r=t(9584),a=t(5598),o=t(3329),i=function(){return(0,o.jsx)(r.Main,{children:(0,o.jsx)(a.Z,{action:"signUp"})})}},5984:function(e,n,t){t.d(n,{x0:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,n){return e+=(n&=63)<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=945.e9f1c11c.chunk.js.map