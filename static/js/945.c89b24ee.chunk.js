"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[945],{9145:function(e,n,t){t.d(n,{F:function(){return w},Y:function(){return d}});var r,a=t(885),o=t(2791),i=t(24),s=t(2080),u=t(5984),l=t(1729),c=t(168),d=t(6088).Z.form(r||(r=(0,c.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: fit-content;\n"]))),m=(t(5861),t(3193)),h=t(5206),f=t(8928),p=t(5194),g=t(4565),v=t(7205),x=t(9584),Z=t(3329),w=function(){var e=(0,o.useState)(""),n=(0,a.Z)(e,2),t=n[0],r=n[1],c=(0,o.useState)(!1),w=(0,a.Z)(c,2),b=w[0],j=w[1],y=(0,o.useState)(""),C=(0,a.Z)(y,2),S=C[0],A=C[1],k=(0,o.useState)(!1),z=(0,a.Z)(k,2),N=z[0],L=z[1],_=(0,i.Lr)(),E=(0,a.Z)(_,2),I=E[0],q=E[1].isLoading,U=(0,m.g)(),B=new RegExp(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/),R=new RegExp(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/),Y=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":r(a),j(!1);break;case"number":A(a),L(!1);break;default:console.log("No such a field")}},$=function(e){return!U.find((function(n){return n.name.toLowerCase()===e.toLowerCase()}))||(h.Am.error("".concat(e," is already in contacts")),j(!0),!1)};return(0,Z.jsx)(f.Z,{raised:!0,sx:{mt:2},children:(0,Z.jsxs)(p.Z,{children:[(0,Z.jsx)(g.Z,{sx:{fontSize:24,fontWeight:"bold"},color:"primary",align:"center",gutterBottom:!0,children:"Add Contact"}),(0,Z.jsxs)(d,{autoComplete:"off",onSubmit:function(e){e.preventDefault(),B.test(t)?R.test(S)?$(t)&&(I({name:t,number:S}),r(""),A("")):L(!0):j(!0)},children:[(0,Z.jsx)(l.I,{error:b,name:"name",type:"text",id:(0,u.x0)(),title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:t,required:!0,placeholder:"Name Surname",onChange:Y}),(0,Z.jsx)(l.I,{error:N,type:"tel",name:"number",id:(0,u.x0)(),pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:S,required:!0,placeholder:"+380 (111) 11 11 11",onChange:Y}),(0,Z.jsx)(v.Z,{type:"submit",variant:"contained",children:q?(0,Z.jsx)(s.p2,{color:x.theme.palette.triadic.main,width:"16",height:"16"}):"Add contact"})]})]})})}},5598:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(885),a=t(5984),o=t(7934),i=t(2080),s=t(2791),u=t(9584),l=t(1729),c=t(9145),d=t(5206),m=t(8928),h=t(5194),f=t(4565),p=t(7205),g=t(3329),v=function(e){var n=e.action,t=(0,s.useState)(""),v=(0,r.Z)(t,2),x=v[0],Z=v[1],w=(0,s.useState)(!1),b=(0,r.Z)(w,2),j=b[0],y=b[1],C=(0,s.useState)(""),S=(0,r.Z)(C,2),A=S[0],k=S[1],z=(0,s.useState)(!1),N=(0,r.Z)(z,2),L=N[0],_=N[1],E=(0,s.useState)(""),I=(0,r.Z)(E,2),q=I[0],U=I[1],B=(0,s.useState)(!1),R=(0,r.Z)(B,2),Y=R[0],$=R[1],M=(0,o.d$)(),P=(0,r.Z)(M,2),T=P[0],D=P[1].isLoading,F=(0,o.lE)(),O=(0,r.Z)(F,2),W=O[0],J=O[1].isLoading,G=new RegExp(/^[a-zA-Z0-9]+(([-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/),H=new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/),K=new RegExp(/[a-z0-9._%+-]{7,12}/),Q=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"userName":Z(r),y(!1);break;case"email":k(r),_(!1);break;case"password":U(r),$(!1);break;default:console.log("No such a field")}};return(0,g.jsx)(u.Main,{children:(0,g.jsx)(m.Z,{raised:!0,sx:{mt:2},children:(0,g.jsxs)(h.Z,{children:[(0,g.jsx)(f.Z,{sx:{fontSize:24,fontWeight:"bold",textTransform:"capitalize"},color:"primary",align:"center",gutterBottom:!0,children:n}),(0,g.jsxs)(c.Y,{autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),x&&!G.test(x))return y(!0),void console.log("name",j);if(!H.test(A))return _(!0),void console.log("email",L);if(!K.test(q))return $(!0),void console.log("pass",Y);switch(n){case"signIn":T({email:A,password:q}).then((function(e){var n;400===(null===e||void 0===e||null===(n=e.error)||void 0===n?void 0:n.status)&&d.Am.error("No such user found!")}));break;case"signUp":W({name:x,email:A,password:q}).then((function(e){var n,t;400===(null===e||void 0===e||null===(n=e.error)||void 0===n?void 0:n.status)&&d.Am.error("User registration error!"),500===(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.status)&&d.Am.error("Server error!")}));break;default:console.log("No such action")}Z(""),k(""),U("")},children:["signUp"===n&&(0,g.jsx)(l.I,{error:j,name:"userName",type:"text",id:(0,a.x0)(),title:"Name may contain only letters, numbers and dash.",value:x,required:!0,placeholder:"Enter UserName",onChange:Q}),(0,g.jsx)(l.I,{error:L,type:"email",name:"email",id:(0,a.x0)(),title:"Please, enter your email",value:A,required:!0,placeholder:"Enter email",onChange:Q}),(0,g.jsx)(l.I,{error:Y,type:"password",name:"password",id:(0,a.x0)(),title:"Password may contain letters in lowercase, numbers and it's lenghth should be from 7 to 12 symbols",value:q,required:!0,placeholder:"Enter password",onChange:Q,minlength:"7",maxLength:"12"}),(0,g.jsx)(p.Z,{type:"submit",variant:"contained",children:D||J?(0,g.jsx)(i.p2,{color:u.theme.palette.triadic.main,width:"16",height:"16"}):"signUp"===n?"Sign Up":"Sign In"})]})]})})})}},1729:function(e,n,t){t.d(n,{I:function(){return i}});var r=t(5984),a=t(2617),o=t(3329);function i(e){var n=e.name,t=e.type,i=e.value,s=e.title,u=e.required,l=e.placeholder,c=e.onChange,d=e.error,m=(0,r.x0)();return(0,o.jsx)(a.Z,{id:m,error:d,label:d?"error":n,value:i,onChange:c,type:t,name:n,title:s,required:u,placeholder:l,color:"primary",sx:{mb:2}})}},3193:function(e,n,t){t.d(n,{g:function(){return i}});var r=t(24),a=t(5048),o=t(2824),i=function(){var e=(0,a.v9)(o.Nh),n=(0,r.wY)(void 0,{skip:!e,refetchOnMountOrArgChange:!0}).data;return void 0===n?[]:n}},5861:function(e,n,t){var r=t(24),a=t(3193),o=t(5048);n.Z=function(){var e=(0,a.g)(),n=(0,o.v9)(r.B8).toLowerCase();return n?e.filter((function(e){return e.name.toLowerCase().split(" ").some((function(e){return e.includes(n)}))})):e}},24:function(e,n,t){t.d(n,{B8:function(){return a.B8},Lr:function(){return r.Lr},Nt:function(){return r.Nt},Tv:function(){return a.Tv},wY:function(){return r.wY}});var r=t(9676),a=t(4808)},8945:function(e,n,t){t.r(n),t.d(n,{default:function(){return i}});var r=t(9584),a=t(5598),o=t(3329),i=function(){return(0,o.jsx)(r.Main,{children:(0,o.jsx)(a.Z,{action:"signUp"})})}}}]);
//# sourceMappingURL=945.c89b24ee.chunk.js.map